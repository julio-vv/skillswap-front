import{d as r,e,p as n,f as o,$ as s,g as t}from"./form-CP-dV_Zb.js";function i(r,e){try{var n=r()}catch(o){return e(o)}return n&&n.then?n.then(void 0,e):n}function a(r,e){for(var n={};r.length;){var o=r[0],s=o.code,i=o.message,a=o.path.join(".");if(!n[a])if("unionErrors"in o){var u=o.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if("unionErrors"in o&&o.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[o.code];n[a]=t(a,e,n,s,f?[].concat(f,o.message):o.message)}r.shift()}return n}function u(r,e){for(var n={};r.length;){var o=r[0],s=o.code,i=o.message,a=o.path.join(".");if(!n[a])if("invalid_union"===o.code&&o.errors.length>0){var u=o.errors[0][0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if("invalid_union"===o.code&&o.errors.forEach(function(e){return e.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[o.code];n[a]=t(a,e,n,s,f?[].concat(f,o.message):o.message)}r.shift()}return n}function c(t,c,f){if(void 0===f&&(f={}),"_def"in(d=t)&&"object"==typeof d._def&&"typeName"in d._def)return function(n,o,s){try{return Promise.resolve(i(function(){return Promise.resolve(t["sync"===f.mode?"parse":"parseAsync"](n,c)).then(function(e){return s.shouldUseNativeValidation&&r({},s),{errors:{},values:f.raw?Object.assign({},n):e}})},function(r){if(n=r,Array.isArray(null==n?void 0:n.issues))return{values:{},errors:e(a(r.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};var n;throw r}))}catch(d){return Promise.reject(d)}};var d;if(function(r){return"_zod"in r&&"object"==typeof r._zod}(t))return function(a,l,v){try{return Promise.resolve(i(function(){return Promise.resolve(("sync"===f.mode?n:o)(t,a,c)).then(function(e){return v.shouldUseNativeValidation&&r({},v),{errors:{},values:f.raw?Object.assign({},a):e}})},function(r){if(r instanceof s)return{values:{},errors:e(u(r.issues,!v.shouldUseNativeValidation&&"all"===v.criteriaMode),v)};throw r}))}catch(d){return Promise.reject(d)}};throw new Error("Invalid input: not a Zod schema")}export{c as a};
